<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
 	xmlns:b="http://bootsfaces.net/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"	
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
</h:head>
<h:body onload="#{catalogoUsuarios.init()}">
    <ui:composition template="/WEB-INF/template/layout.xhtml">

        <ui:define name="title">Usuarios</ui:define>

	<ui:define name="header">
        </ui:define>
	    
        <ui:define name="content">
			<p:growl id="mensajes" showDetail="true" life="2000" />
			
			<!-- 
			<div id="paginador" style="width:60%">
			</div>
			-->
			
			<h:form id="formCatalogo" style="height:100%;">
		
				<p:panel header="Usuarios" style="width:100%">
			
					<h:panelGrid id="gridBotones" columns="1">
						<h:panelGrid id="pnlBotones" columns="13" styleClass="botones">
<ui:remove>
<!-- 
							<p:commandButton icon="ui-icon-search" title="Busqueda" process="@this" update="@([id$=paginacion-info]) @([id$=grid]) @([id$=grid1])" actionListener="#{catalogoUsuarios.busqueda()}"></p:commandButton>
-->
</ui:remove>
							<p:commandButton icon="ui-icon-disk" title="Actualizar" process="@this" update="@([id$=paginacion-info]) @([id$=grid]) @([id$=grid1]" actionListener="#{catalogoUsuarios.actualizar()}"></p:commandButton>
							<p:commandButton icon="ui-icon-trash" title="Eliminar" process="@this" update="@([id$=paginacion-info]) @([id$=grid]) @([id$=grid1])" actionListener="#{catalogoUsuarios.eliminar()}"><p:confirm header="Confirmation" message="Estas seguro?" icon="ui-icon-alert"/></p:commandButton>
<ui:remove>
<!-- 
							<p:commandButton icon="ui-icon-seek-first" title="Anterior" process="@this" update="@([id$=paginacion-info]) @([id$=grid] @([id$=grid1])" actionListener="#{catalogoUsuarios.prev}"></p:commandButton>
							<p:commandButton icon="ui-icon-seek-end" title="Siguiente" process="@this" update="@([id$=paginacion-info]) @([id$=grid] @([id$=grid1])" actionListener="#{catalogoUsuarios.next}"></p:commandButton>
-->
</ui:remove>
							<p:commandButton icon="ui-icon-seek-first" title="Anterior"><f:ajax listener="#{catalogoUsuarios.prev}" execute="formCatalogo" render="paginacion-info grid grid1" /></p:commandButton>
							<p:commandButton icon="ui-icon-seek-end" title="Siguiente"><f:ajax listener="#{catalogoUsuarios.next}" execute="formCatalogo" render="paginacion-info grid grid1" /></p:commandButton>
							<p:commandButton icon="ui-icon-power" title="Logout" action="#{userManager.logout()}"></p:commandButton>
							<p:commandButton icon="ui-icon-home" title="Home" action="/secured/home.xhtml?faces-redirect=true"><f:ajax /></p:commandButton>
							<p:outputLabel style="position:relative; left: 10px;" id="paginacion-info">#{catalogoUsuarios.paginacion.pageIndex+1} of #{catalogoUsuarios.paginacion.recordsTotal} records</p:outputLabel>
							<p:outputLabel style="position:relative; left: 30px;"> ir a: </p:outputLabel>
							<p:inputText id="irA" value="#{catalogoUsuarios.paginacion.irA}" style="position:relative; left: 35px;" onfocus="mainHelper.changeBackgroundColor(this.id);" onblur="mainHelper.changeBackgroundTransparent(this.id);"></p:inputText>
							<p:commandButton icon="ui-icon-arrowreturn-1-e" style="position:relative; left: 37px;" title="Ir a registro" process="@this" update="@([id$=paginacion-info]) @([id$=grid]) @([id$=grid1]" actionListener="#{catalogoUsuarios.irA()}"></p:commandButton>
						</h:panelGrid>
					</h:panelGrid>

					<h:panelGrid id="grid" columns="1">
			
						<h:panelGrid id="pnlCliente" columns="3">
							<p:outputLabel>Cliente:</p:outputLabel>
							<p:inputText id="txtCliente" value="#{catalogoUsuarios.usuario.clipro.cveClipro}" onfocus="mainHelper.changeBackgroundColor(this.id);" onblur="mainHelper.changeBackgroundTransparent(this.id);" disabled="true"></p:inputText>
							<p:inputText id="txtClienteNombre" value="#{catalogoUsuarios.usuario.clipro.nombre}" onfocus="mainHelper.changeBackgroundColor(this.id);" onblur="mainHelper.changeBackgroundTransparent(this.id);" disabled="true"></p:inputText>
						</h:panelGrid>
			
						<h:panelGrid id="pnlCliente2" columns="4">
							<p:outputLabel>Email:</p:outputLabel>
							<p:inputText id="txtEmail" value="#{catalogoUsuarios.usuario.email}" onfocus="mainHelper.changeBackgroundColor(this.id);" onblur="mainHelper.changeBackgroundTransparent(this.id);" disabled="true"></p:inputText>
			
							<p:outputLabel>Contraseña</p:outputLabel>
							<p:inputText id="txtContrasena" value="#{catalogoUsuarios.usuario.contrasena}" onfocus="mainHelper.changeBackgroundColor(this.id);" onblur="mainHelper.changeBackgroundTransparent(this.id);"></p:inputText>
			
							<p:outputLabel>Nombre:</p:outputLabel>
							<p:inputText id="txtNombre" value="#{catalogoUsuarios.usuario.nombre}" onfocus="mainHelper.changeBackgroundColor(this.id);" onblur="mainHelper.changeBackgroundTransparent(this.id);"></p:inputText>
			
							<p:outputLabel>Fecha Alta</p:outputLabel>
<ui:remove>
<!-- 
							<p:calendar id="txtFechaAlta" value="#{catalogoUsuarios.usuario.fechaalta}" onfocus="mainHelper.changeBackgroundColor(this.id);" onblur="mainHelper.changeBackgroundTransparent(this.id);"></p:calendar>
-->
</ui:remove>                                        
							<p:inputText id="txtFechaAlta" value="#{catalogoUsuarios.usuario.fechaalta}" onfocus="mainHelper.changeBackgroundColor(this.id);" onblur="mainHelper.changeBackgroundTransparent(this.id);" disabled="true"><f:convertDateTime pattern="M/d/y"/></p:inputText>							
			
							<p:outputLabel>Apellidos</p:outputLabel>
							<p:inputText id="txtApellidos" value="#{catalogoUsuarios.usuario.apellidos}" onfocus="mainHelper.changeBackgroundColor(this.id);" onblur="mainHelper.changeBackgroundTransparent(this.id);"></p:inputText>
						</h:panelGrid>
					</h:panelGrid>
			
					<h:panelGrid id="grid1" columns="2">
						<p:panel header="Tipo Usuario" styleClass="tipos">
							<h:panelGroup id="pnlRbnTipo" columns="2">
								<p:selectOneRadio id="tipoUsuario" value="#{catalogoUsuarios.usuario.tipo}">
									<f:selectItem itemLabel="Administrador" itemValue="2" />
									<f:selectItem itemLabel="Operador" itemValue="3" />
								</p:selectOneRadio>
							</h:panelGroup>
						</p:panel>
					
						<p:panel header="Status Usuario" styleClass="tipos">
							<h:panelGroup id="pnlRbnStatus" columns="2">
								<p:selectOneRadio id="statusUsuario" value="#{catalogoUsuarios.usuario.status}">
									<f:selectItem itemLabel="Activo" itemValue="1" />
									<f:selectItem itemLabel="Inactivo" itemValue="2" />
								</p:selectOneRadio>
							</h:panelGroup>
						</p:panel>
						<h:inputHidden id="txtClienteHidden" value="#{catalogoUsuarios.usuario.clipro.cveClipro}" />
						<h:inputHidden id="txtClienteNombreHidden" value="#{catalogoUsuarios.usuario.clipro.nombre}" />
						<h:inputHidden id="txtEmailHidden" value="#{catalogoUsuarios.usuario.email}" />
					</h:panelGrid>
				</p:panel>
				<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
					<p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check"/>
					<p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close"/>
				</p:confirmDialog>
			</h:form>
        </ui:define>
		
<ui:remove>
<!-- 
        <ui:define name="footer">
			<h:form>
				<b:commandButton value="Logout" action="#{userManager.logout()}" styleClass="blueGradient"/>
			</h:form>
			<script>
				$(function() {
					//alert(#{catalogoUsuarios.paginacion.recordsTotal})
					 
					$("#paginador").bs_pagination({
						currentPage: 1,
						rowsPerPage: 1,
						maxRowsPerPage: 1,
						totalPages: 10,
						totalRows: #{catalogoUsuarios.paginacion.recordsTotal},
						 
						visiblePageLinks: 5,
						 
						showGoToPage: true,
						showRowsPerPage: true,
						showRowsInfo: true,
						showRowsDefaultInfo: true,
						 
						directURL: false, // or a function with current page as argument
						disableTextSelectionInNavPane: true, // disable text selection and double click
							 
						bootstrap_version: "3",
							 
						containerClass: "well blueGradient",
							 
						mainWrapperClass: "row",
							 
						navListContainerClass: "col-xs-12 col-sm-12 col-md-6",
						navListWrapperClass: "",
						navListClass: "pagination pagination_custom",
						navListActiveItemClass: "active",
							 
						navGoToPageContainerClass: "col-xs-6 col-sm-4 col-md-2 row-space",
						navGoToPageIconClass: "glyphicon glyphicon-arrow-right",
						navGoToPageClass: "form-control small-input",
							 
						navRowsPerPageContainerClass: "col-xs-6 col-sm-4 col-md-2 row-space",
						navRowsPerPageIconClass: "glyphicon glyphicon-th-list",
						navRowsPerPageClass: "form-control small-input",
							 
						navInfoContainerClass: "col-xs-12 col-sm-4 col-md-2 row-space",
						navInfoClass: "",
							 
						// element IDs
						nav_list_id_prefix: "nav_list_",
						nav_top_id_prefix: "top_",
						nav_prev_id_prefix: "prev_",
						nav_item_id_prefix: "nav_item_",
						nav_next_id_prefix: "next_",
						nav_last_id_prefix: "last_",
							 
						nav_goto_page_id_prefix: "goto_page_",
						nav_rows_per_page_id_prefix: "rows_per_page_",
						nav_rows_info_id_prefix: "rows_info_",
							 
						onChangePage: function(event, data) {
							for (var key in data) {
							    var obj = data[key];
								//alert(key)
							    //alert(key + ": " + obj)
							}							
							//alert(data)
							
						},
						onLoad: function(event, data) {
						}	  
					});	
				});
			</script>
        </ui:define>
-->
</ui:remove>                                        
		
    </ui:composition>
</h:body>
</html>
